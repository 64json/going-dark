(this["webpackJsonpcapture-the-flag"]=this["webpackJsonpcapture-the-flag"]||[]).push([[0],[,,,,,,function(e,t,a){e.exports=a(14)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(5),i=a.n(c),o=(a(11),a(3)),l=a(2),s=a(1),u=(a(12),a(13),function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((function(e){return e})).join(" ")});var m=function(e){var t,a=e.className,n=e.teamId,c=e.dx,i=e.dy,o=e.style,l=Math.abs(c),s=Math.abs(i),m=l>.2||s>.2;return t=l>s?c<0?"top":"bottom":i<0?"left":"right",r.a.createElement("div",{className:u("Character","team_".concat(n),m&&"moving",t,a),style:o})},d=new Array(31).fill(0).map((function(e,t){return 1<<t})),f=Object(s.a)(d,17),v=f[0],b=f[1],w=f[2],h=f[3],p=f[4],y=f[5],g=f[6],E=f[7],j=(f[8],f[9]),O=f[10],k=f[11],N=f[12],_=f[13],A=f[14],L=f[15],S=f[16],M=[w,h,p,y,g,E,j,O,k,N,_,A,L,S];var R=function(e){var t=e.mapHeight,a=e.mapWidth,c=e.windowHeight,i=Object(n.useState)([0,0]),d=Object(s.a)(i,2),f=Object(s.a)(d[0],2),R=f[0],x=f[1],H=d[1],F=Object(n.useState)([0,0]),I=Object(s.a)(F,2),z=Object(s.a)(I[0],2),W=z[0],C=z[1],D=I[1],J=Object(n.useState)(0),T=Object(s.a)(J,2),B=T[0],U=T[1],q=Object(n.useState)(2*c|0),G=Object(s.a)(q,2),K=G[0],P=G[1],Q=Object(n.useState)(function(e,t){var a=new Array(e).fill(0).map((function(a,n){return new Array(t).fill(0).map((function(a,r){var c=v,i=0===n,o=n===e-1,l=0===r,s=r===t-1;return i&&l?c|=_:i&&s?c|=A:o&&l?c|=L:o&&s?c|=S:i?c|=j:o?c|=O:l?c|=k:s?c|=N:(Math.random()<.01&&(c|=[w,h,p][3*Math.random()|0]),Math.random()<.02&&(c|=y),4!==n&&n!==e-1-4||(c|=E),80===n&&(c|=b)),c}))}));return a[40][t/2|0]|=g,a[e-1-40][t/2|0]|=g,a}(t,a)),V=Object(s.a)(Q,2),X=V[0];V[1],Object(n.useEffect)((function(){var e=function(e){e.preventDefault(),console.log(e.key);var t=0,a=0;switch(e.key){case"ArrowDown":t++;break;case"ArrowUp":t--;break;case"ArrowLeft":a--;break;case"ArrowRight":a++}H([t/=1.2,a/=1.2]),U(Math.random())},t=function(e){H([0,0])},a=function(e){e.absolute,e.alpha;var t=e.beta,a=e.gamma;H([-a/180,t/180]),U(Math.random())},n=function(){P(window.innerHeight/window.innerWidth*c+.5|0)};return n(),document.addEventListener("keydown",e),document.addEventListener("keyup",t),window.addEventListener("resize",n),window.addEventListener("deviceorientation",a,!0),function(){document.removeEventListener("keydown",e),document.removeEventListener("keyup",t),window.removeEventListener("resize",n),window.removeEventListener("deviceorientation",a)}}),[]),Object(n.useEffect)((function(){var e=W+R,t=C+x,a=X[Y+e+.5|0][Z+C+.5|0];M.some((function(e){return(e&a)>0}))&&(e=W);var n=X[Y+W+.5|0][Z+t+.5|0];M.some((function(e){return(e&n)>0}))&&(t=C),D([e,t])}),[B]);var Y=t/2|0,Z=a/2|0,$=c/2|0,ee=K/2|0,te=Y+(0|W)-$,ae=Z+(0|C)-ee,ne=function(e,t,a,n,r){return(t<0?[].concat(Object(l.a)(new Array(-t).fill(0).map((function(){return new Array(r).fill(0)}))),Object(l.a)(e.slice(0,t+n))):e.slice(t,t+n)).map((function(e){return a<0?[].concat(Object(l.a)(new Array(-a).fill(0)),Object(l.a)(e.slice(0,a+r))):e.slice(a,a+r)}))}(X,te-1,ae-1,c+2,K+2),re=(0|W)-W,ce=(0|C)-C,ie=Object(n.useRef)(null),oe=ie.current;if(oe){var le,se=oe.getContext("2d");se.clearRect(0,0,oe.width,oe.height);var ue=(le={},Object(o.a)(le,g,"#ffe300"),Object(o.a)(le,E,"#49320f"),le),me=Object.keys(ue);X.forEach((function(e,t){e.forEach((function(e,a){var n=me.find((function(t){return(t&e)>0}));n in ue&&(se.fillStyle=ue[n],se.fillRect(a-1,t-1,3,3))}))})),se.fillStyle="#00FF00",se.fillRect(Z+(0|C)-1,Y+(0|W)-1,3,3),se.strokeStyle="#FF0000",se.strokeRect(ae,te,K,c)}return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"game"},r.a.createElement("div",{className:"grid",style:{marginTop:"calc(".concat(re-1," * 9.09vw)"),marginLeft:"calc(".concat(ce-1," * 9.09vw)")}},ne.map((function(e,t){return r.a.createElement("div",{className:"row",key:t},e.map((function(e,a){return r.a.createElement("div",{className:"col",key:a},["grass","divider","rock0","rock1","rock2","tree","tower","jail","key","border_top","border_bottom","border_left","border_right","border_top_left","border_top_right","border_bottom_left","border_bottom_right"].filter((function(t,a){return(e&1<<a)>0})).map((function(e){return r.a.createElement("div",{key:e,className:u("block",e),style:{zIndex:["grass","divider"].includes(e)?0:W+1<(0|W)-$+t?2:0}})})))})))}))),r.a.createElement(m,{className:"character",teamId:0,dx:R,dy:x,style:{top:"calc(".concat($," * 9.09vw)"),left:"calc(".concat(ee," * 9.09vw)")}}),r.a.createElement("div",{className:"illumination",style:{marginTop:"calc(".concat($," * 9.09vw)"),marginLeft:"calc(".concat(ee," * 9.09vw)")}}),r.a.createElement("div",{className:"overlay"},r.a.createElement("div",{className:"minimap"},r.a.createElement("canvas",{ref:ie,className:"canvas",height:t,width:a})))))};i.a.render(r.a.createElement(R,{mapHeight:161,mapWidth:81,windowHeight:11}),document.getElementById("root"))}],[[6,1,2]]]);
//# sourceMappingURL=main.7e677b9e.chunk.js.map