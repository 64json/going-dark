(this["webpackJsonpcapture-the-flag"]=this["webpackJsonpcapture-the-flag"]||[]).push([[0],[,,,,,,function(e,t,a){e.exports=a(14)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(5),i=a.n(c),o=(a(11),a(3)),l=a(2),s=a(1),m=(a(12),a(13),function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((function(e){return e})).join(" ")});var u=function(e){var t,a=e.className,n=e.teamId,c=e.dx,i=e.dy,o=e.style,l=Math.abs(c),s=Math.abs(i),u=l>.2||s>.2;return t=l>s?c<0?"top":"bottom":i<0?"left":"right",r.a.createElement("div",{className:m("Character","team_".concat(n),u&&"moving",t,a),style:o})},d=new Array(31).fill(0).map((function(e,t){return 1<<t})),f=Object(s.a)(d,17),v=f[0],b=f[1],w=f[2],h=f[3],p=f[4],y=f[5],g=f[6],j=f[7],E=(f[8],f[9]),O=f[10],k=f[11],N=f[12],_=f[13],A=f[14],L=f[15],S=f[16],M=[w,h,p,y,g,j,E,O,k,N,_,A,L,S];var R=function(e){var t=e.mapHeight,a=e.mapWidth,c=e.windowHeight,i=Object(n.useState)([0,0]),d=Object(s.a)(i,2),f=Object(s.a)(d[0],2),R=f[0],x=f[1],H=d[1],F=Object(n.useState)([0,0]),I=Object(s.a)(F,2),z=Object(s.a)(I[0],2),J=z[0],W=z[1],C=I[1],D=Object(n.useState)(0),T=Object(s.a)(D,2),B=T[0],U=T[1],q=Object(n.useState)(2*c|0),G=Object(s.a)(q,2),K=G[0],P=G[1],Q=Object(n.useState)(function(e,t){var a=new Array(e).fill(0).map((function(a,n){return new Array(t).fill(0).map((function(a,r){var c=v,i=0===n,o=n===e-1,l=0===r,s=r===t-1;return i&&l?c|=_:i&&s?c|=A:o&&l?c|=L:o&&s?c|=S:i?c|=E:o?c|=O:l?c|=k:s?c|=N:(Math.random()<.01&&(c|=[w,h,p][3*Math.random()|0]),Math.random()<.02&&(c|=y),4!==n&&n!==e-1-4||(c|=j),80===n&&(c|=b)),c}))}));return a[40][t/2|0]|=g,a[e-1-40][t/2|0]|=g,a}(t,a)),V=Object(s.a)(Q,2),X=V[0],Y=(V[1],Object(n.useState)("")),Z=Object(s.a)(Y,2),$=Z[0],ee=Z[1];Object(n.useEffect)((function(){var e=function(e){e.preventDefault(),console.log(e.key);var t=0,a=0;switch(e.key){case"ArrowDown":t++;break;case"ArrowUp":t--;break;case"ArrowLeft":a--;break;case"ArrowRight":a++}H([t/=1.2,a/=1.2]),U(Math.random())},t=function(e){H([0,0])},a=function(e){var t=e.absolute,a=e.alpha,n=e.beta,r=e.gamma;H([-r/180/10,n/180/10]),U(Math.random()),ee({absolute:t,alpha:a,beta:n,gamma:r})},n=function(){P(window.innerHeight/window.innerWidth*c+.5|0)};return n(),document.addEventListener("keydown",e),document.addEventListener("keyup",t),window.addEventListener("resize",n),window.addEventListener("deviceorientation",a,!0),function(){document.removeEventListener("keydown",e),document.removeEventListener("keyup",t),window.removeEventListener("resize",n),window.removeEventListener("deviceorientation",a)}}),[]),Object(n.useEffect)((function(){var e=J+R,t=W+x,a=X[te+e+.5|0][ae+W+.5|0];M.some((function(e){return(e&a)>0}))&&(e=J);var n=X[te+J+.5|0][ae+t+.5|0];M.some((function(e){return(e&n)>0}))&&(t=W),C([e,t])}),[B]);var te=t/2|0,ae=a/2|0,ne=c/2|0,re=K/2|0,ce=te+(0|J)-ne,ie=ae+(0|W)-re,oe=function(e,t,a,n,r){return(t<0?[].concat(Object(l.a)(new Array(-t).fill(0).map((function(){return new Array(r).fill(0)}))),Object(l.a)(e.slice(0,t+n))):e.slice(t,t+n)).map((function(e){return a<0?[].concat(Object(l.a)(new Array(-a).fill(0)),Object(l.a)(e.slice(0,a+r))):e.slice(a,a+r)}))}(X,ce-1,ie-1,c+2,K+2),le=(0|J)-J,se=(0|W)-W,me=Object(n.useRef)(null),ue=me.current;if(ue){var de,fe=ue.getContext("2d");fe.clearRect(0,0,ue.width,ue.height);var ve=(de={},Object(o.a)(de,g,"#ffe300"),Object(o.a)(de,j,"#49320f"),de),be=Object.keys(ve);X.forEach((function(e,t){e.forEach((function(e,a){var n=be.find((function(t){return(t&e)>0}));n in ve&&(fe.fillStyle=ve[n],fe.fillRect(2*a-2,2*t-2,5,5))}))})),fe.fillStyle="#00FF00",fe.fillRect(2*(ae+(0|W))-2,2*(te+(0|J))-2,5,5),fe.strokeStyle="#FF0000",fe.strokeRect(2*ie,2*ce,2*K,2*c)}return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"game"},r.a.createElement("div",{className:"grid",style:{marginTop:"calc(".concat(le-1," * 9.09vw)"),marginLeft:"calc(".concat(se-1," * 9.09vw)")}},oe.map((function(e,t){return r.a.createElement("div",{className:"row",key:t},e.map((function(e,a){return r.a.createElement("div",{className:"col",key:a},["grass","divider","rock0","rock1","rock2","tree","tower","jail","key","border_top","border_bottom","border_left","border_right","border_top_left","border_top_right","border_bottom_left","border_bottom_right"].filter((function(t,a){return(e&1<<a)>0})).map((function(e){return r.a.createElement("div",{key:e,className:m("block",e),style:{zIndex:["grass","divider"].includes(e)?0:J+1<(0|J)-ne+t?2:0}})})))})))}))),r.a.createElement(u,{className:"character",teamId:0,dx:R,dy:x,style:{top:"calc(".concat(ne," * 9.09vw)"),left:"calc(".concat(re," * 9.09vw)")}}),r.a.createElement("div",{className:"illumination",style:{marginTop:"calc(".concat(ne," * 9.09vw)"),marginLeft:"calc(".concat(re," * 9.09vw)")}}),r.a.createElement("div",{className:"overlay"},r.a.createElement("div",{className:"minimap"},r.a.createElement("canvas",{ref:me,className:"canvas",height:"322",width:"162"})))),r.a.createElement("div",{className:"dummy"},JSON.stringify($)))};i.a.render(r.a.createElement(R,{mapHeight:161,mapWidth:81,windowHeight:11}),document.getElementById("root"))}],[[6,1,2]]]);
//# sourceMappingURL=main.e7f5d784.chunk.js.map