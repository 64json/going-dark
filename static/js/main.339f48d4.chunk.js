(this["webpackJsonpcapture-the-flag"]=this["webpackJsonpcapture-the-flag"]||[]).push([[0],[,,,,,,function(e,t,n){e.exports=n(14)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(5),o=n.n(c),i=(n(11),n(3)),l=n(2),u=n(1),s=(n(12),n(13),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")});var f=function(e){var t,n=e.className,a=e.teamId,c=e.dx,o=e.dy,i=e.style,l=Math.abs(c),u=Math.abs(o),f=l>.2||u>.2;return t=l>u?c<0?"top":"bottom":o<0?"left":"right",r.a.createElement("div",{className:s("Character","team_".concat(a),f&&"moving",t,n),style:i})},m=new Array(31).fill(0).map((function(e,t){return 1<<t})),d=Object(u.a)(m,17),v=d[0],b=d[1],w=d[2],h=d[3],p=d[4],y=d[5],g=d[6],j=d[7],O=(d[8],d[9]),E=d[10],k=d[11],N=d[12],_=d[13],A=d[14],F=d[15],L=d[16],S=[w,h,p,y,g,j,O,E,k,N,_,A,F,L];var M=function(e){var t=e.mapHeight,n=e.mapWidth,c=e.windowHeight,o=Object(a.useState)([0,0]),m=Object(u.a)(o,2),d=Object(u.a)(m[0],2),M=d[0],R=d[1],x=m[1],H=Object(a.useState)([0,0]),I=Object(u.a)(H,2),P=Object(u.a)(I[0],2),z=P[0],C=P[1],D=I[1],W=Object(a.useState)(0),J=Object(u.a)(W,2),T=J[0],U=J[1],B=Object(a.useState)(2*c|0),q=Object(u.a)(B,2),G=q[0],K=q[1],Q=Object(a.useState)(function(e,t){var n=new Array(e).fill(0).map((function(n,a){return new Array(t).fill(0).map((function(n,r){var c=v,o=0===a,i=a===e-1,l=0===r,u=r===t-1;return o&&l?c|=_:o&&u?c|=A:i&&l?c|=F:i&&u?c|=L:o?c|=O:i?c|=E:l?c|=k:u?c|=N:(Math.random()<.01&&(c|=[w,h,p][3*Math.random()|0]),Math.random()<.02&&(c|=y),4!==a&&a!==e-1-4||(c|=j),80===a&&(c|=b)),c}))}));return n[40][t/2|0]|=g,n[e-1-40][t/2|0]|=g,n}(t,n)),V=Object(u.a)(Q,2),X=V[0],Y=(V[1],Object(a.useState)(!1)),Z=Object(u.a)(Y,2),$=Z[0],ee=Z[1];Object(a.useEffect)((function(){var e=function(e){e.preventDefault(),console.log(e.key);var t=0,n=0;switch(e.key){case"ArrowDown":t++;break;case"ArrowUp":t--;break;case"ArrowLeft":n--;break;case"ArrowRight":n++}x([t/=1.2,n/=1.2]),U(Math.random())},t=function(e){x([0,0])},n=function(e){e.absolute,e.alpha;var t=e.beta,n=e.gamma;x([-n/180,t/180]),U(Math.random())},a=function(){K(window.innerHeight/window.innerWidth*c+.5|0)};return a(),document.addEventListener("keydown",e),document.addEventListener("keyup",t),window.addEventListener("resize",a),window.addEventListener("deviceorientation",n,!0),function(){document.removeEventListener("keydown",e),document.removeEventListener("keyup",t),window.removeEventListener("resize",a),window.removeEventListener("deviceorientation",n)}}),[]),Object(a.useEffect)((function(){var e=z+M,t=C+R,n=X[te+e+.5|0][ne+C+.5|0];S.some((function(e){return(e&n)>0}))&&(e=z);var a=X[te+z+.5|0][ne+t+.5|0];S.some((function(e){return(e&a)>0}))&&(t=C),D([e,t])}),[T]);var te=t/2|0,ne=n/2|0,ae=c/2|0,re=G/2|0,ce=te+(0|z)-ae,oe=ne+(0|C)-re,ie=function(e,t,n,a,r){return(t<0?[].concat(Object(l.a)(new Array(-t).fill(0).map((function(){return new Array(r).fill(0)}))),Object(l.a)(e.slice(0,t+a))):e.slice(t,t+a)).map((function(e){return n<0?[].concat(Object(l.a)(new Array(-n).fill(0)),Object(l.a)(e.slice(0,n+r))):e.slice(n,n+r)}))}(X,ce-1,oe-1,c+2,G+2),le=(0|z)-z,ue=(0|C)-C,se=Object(a.useRef)(null),fe=se.current;if(fe){var me,de=fe.getContext("2d");de.clearRect(0,0,fe.width,fe.height);var ve=(me={},Object(i.a)(me,g,"#ffe300"),Object(i.a)(me,j,"#606060"),Object(i.a)(me,b,"#808080"),me),be=Object.keys(ve);X.forEach((function(e,t){e.forEach((function(e,n){var a=be.find((function(t){return(t&e)>0}));a in ve&&(de.fillStyle=ve[a],de.fillRect(n-2,t-2,5,5))}))})),de.fillStyle="#FFFFFF",de.fillRect(ne+(0|C)-1,te+(0|z)-1,3,3),de.strokeStyle="#FFFFFF",de.strokeRect(oe-1,ce-1,G+2,c+2)}return r.a.createElement("div",{className:"App",onPointerDown:function(){return ee(!0)},onPointerUp:function(){return ee(!1)},onPointerCancel:function(){return ee(!1)},onPointerOut:function(){return ee(!1)}},r.a.createElement("div",{className:"game"},r.a.createElement("div",{className:"grid",style:{marginTop:"calc(".concat(le-1," * 9.09vw)"),marginLeft:"calc(".concat(ue-1," * 9.09vw)")}},ie.map((function(e,t){return r.a.createElement("div",{className:"row",key:t},e.map((function(e,n){return r.a.createElement("div",{className:"col",key:n},["grass","divider","rock0","rock1","rock2","tree","tower","jail","key","border_top","border_bottom","border_left","border_right","border_top_left","border_top_right","border_bottom_left","border_bottom_right"].filter((function(t,n){return(e&1<<n)>0})).map((function(e){return r.a.createElement("div",{key:e,className:s("block",e),style:{zIndex:["grass","divider"].includes(e)?0:z+1<(0|z)-ae+t?2:0}})})))})))}))),r.a.createElement(f,{className:"character",teamId:0,dx:M,dy:R,style:{top:"calc(".concat(ae," * 9.09vw)"),left:"calc(".concat(re," * 9.09vw)")}}),r.a.createElement("div",{className:s("illumination",$&&"flash"),style:{marginTop:"calc(".concat(ae," * 9.09vw)"),marginLeft:"calc(".concat(re," * 9.09vw)")}}),r.a.createElement("div",{className:"overlay"},r.a.createElement("div",{className:"minimap"},r.a.createElement("canvas",{ref:se,className:"canvas",height:t,width:n})))))};o.a.render(r.a.createElement(M,{mapHeight:161,mapWidth:81,windowHeight:11}),document.getElementById("root"))}],[[6,1,2]]]);
//# sourceMappingURL=main.339f48d4.chunk.js.map